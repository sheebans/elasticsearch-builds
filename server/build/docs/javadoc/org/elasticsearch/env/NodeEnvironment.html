<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9-Ubuntu) on Mon Feb 12 16:57:25 IST 2018 -->
<title>NodeEnvironment (server 6.3.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2018-02-12">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NodeEnvironment (server 6.3.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":9,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":9,"i24":10,"i25":10,"i26":10,"i27":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/elasticsearch/env/Environment.html" title="class in org.elasticsearch.env"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/elasticsearch/env/NodeEnvironment.NodePath.html" title="class in org.elasticsearch.env"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/elasticsearch/env/NodeEnvironment.html" target="_top">Frames</a></li>
<li><a href="NodeEnvironment.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="../../../org/elasticsearch/env/package-summary.html">org.elasticsearch.env</a></div>
<h2 title="Class NodeEnvironment" class="title">Class NodeEnvironment</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.elasticsearch.env.NodeEnvironment</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.io.Closeable</code>, <code>java.lang.AutoCloseable</code></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="typeNameLabel">NodeEnvironment</span>
extends java.lang.Object
implements java.io.Closeable</pre>
<div class="block">A component that holds all data paths for a single node.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.NodePath.html" title="class in org.elasticsearch.env">NodeEnvironment.NodePath</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.ShardLocker.html" title="interface in org.elasticsearch.env">NodeEnvironment.ShardLocker</a></span></code></th>
<td class="colLast">
<div class="block">A functional interface that people can use to reference <a href="../../../org/elasticsearch/env/NodeEnvironment.html#shardLock-org.elasticsearch.index.shard.ShardId-long-"><code>shardLock(ShardId, long)</code></a></div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../org/elasticsearch/common/settings/Setting.html" title="class in org.elasticsearch.common.settings">Setting</a>&lt;java.lang.Boolean&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#ENABLE_LUCENE_SEGMENT_INFOS_TRACE_SETTING">ENABLE_LUCENE_SEGMENT_INFOS_TRACE_SETTING</a></span></code></th>
<td class="colLast">
<div class="block">If true the [verbose] SegmentInfos.infoStream logging is sent to System.out.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#INDICES_FOLDER">INDICES_FOLDER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../org/elasticsearch/common/settings/Setting.html" title="class in org.elasticsearch.common.settings">Setting</a>&lt;java.lang.Integer&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#MAX_LOCAL_STORAGE_NODES_SETTING">MAX_LOCAL_STORAGE_NODES_SETTING</a></span></code></th>
<td class="colLast">
<div class="block">Maximum number of data nodes that should run in an environment.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../org/elasticsearch/common/settings/Setting.html" title="class in org.elasticsearch.common.settings">Setting</a>&lt;java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#NODE_ID_SEED_SETTING">NODE_ID_SEED_SETTING</a></span></code></th>
<td class="colLast">
<div class="block">Seed for determining a persisted unique uuid of this node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#NODE_LOCK_FILENAME">NODE_LOCK_FILENAME</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#NODES_FOLDER">NODES_FOLDER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#NodeEnvironment-org.elasticsearch.common.settings.Settings-org.elasticsearch.env.Environment-">NodeEnvironment</a></span>&#8203;(<a href="../../../org/elasticsearch/common/settings/Settings.html" title="class in org.elasticsearch.common.settings">Settings</a>&nbsp;settings,
               <a href="../../../org/elasticsearch/env/Environment.html" title="class in org.elasticsearch.env">Environment</a>&nbsp;environment)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#acquireFSLockForPaths-org.elasticsearch.index.IndexSettings-java.nio.file.Path...-">acquireFSLockForPaths</a></span>&#8203;(<a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
                     java.nio.file.Path...&nbsp;shardPaths)</code></th>
<td class="colLast">
<div class="block">Acquires, then releases, all <code>write.lock</code> files in the given
 shard paths.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#availableIndexFolders--">availableIndexFolders</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Returns all folder names in ${data.paths}/nodes/{node.id}/indices folder</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#availableIndexFoldersForPath-org.elasticsearch.env.NodeEnvironment.NodePath-">availableIndexFoldersForPath</a></span>&#8203;(<a href="../../../org/elasticsearch/env/NodeEnvironment.NodePath.html" title="class in org.elasticsearch.env">NodeEnvironment.NodePath</a>&nbsp;nodePath)</code></th>
<td class="colLast">
<div class="block">Return all directory names in the nodes/{node.id}/indices directory for the given node path.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.nio.file.Path[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#availableShardPaths-org.elasticsearch.index.shard.ShardId-">availableShardPaths</a></span>&#8203;(<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</code></th>
<td class="colLast">
<div class="block">Returns all shard paths excluding custom shard path.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#close--">close</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#deleteIndexDirectorySafe-org.elasticsearch.index.Index-long-org.elasticsearch.index.IndexSettings-">deleteIndexDirectorySafe</a></span>&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
                        long&nbsp;lockTimeoutMS,
                        <a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings)</code></th>
<td class="colLast">
<div class="block">Deletes an indexes data directory recursively iff all of the indexes
 shards locks were successfully acquired.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#deleteIndexDirectoryUnderLock-org.elasticsearch.index.Index-org.elasticsearch.index.IndexSettings-">deleteIndexDirectoryUnderLock</a></span>&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
                             <a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings)</code></th>
<td class="colLast">
<div class="block">Deletes an indexes data directory recursively.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#deleteShardDirectorySafe-org.elasticsearch.index.shard.ShardId-org.elasticsearch.index.IndexSettings-">deleteShardDirectorySafe</a></span>&#8203;(<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
                        <a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings)</code></th>
<td class="colLast">
<div class="block">Deletes a shard data directory iff the shards locks were successfully acquired.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#deleteShardDirectoryUnderLock-org.elasticsearch.env.ShardLock-org.elasticsearch.index.IndexSettings-">deleteShardDirectoryUnderLock</a></span>&#8203;(<a href="../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;lock,
                             <a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings)</code></th>
<td class="colLast">
<div class="block">Deletes a shard data directory.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#ensureAtomicMoveSupported--">ensureAtomicMoveSupported</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">This method tries to write an empty file and moves it using an atomic move operation.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#findAllShardIds-org.elasticsearch.index.Index-">findAllShardIds</a></span>&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index)</code></th>
<td class="colLast">
<div class="block">Tries to find all allocated shards for the given index
 on the current node.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#generateNodeId-org.elasticsearch.common.settings.Settings-">generateNodeId</a></span>&#8203;(<a href="../../../org/elasticsearch/common/settings/Settings.html" title="class in org.elasticsearch.common.settings">Settings</a>&nbsp;settings)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#getNodeLockId--">getNodeLockId</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#hasNodeFile--">hasNodeFile</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.nio.file.Path[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#indexPaths-org.elasticsearch.index.Index-">indexPaths</a></span>&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index)</code></th>
<td class="colLast">
<div class="block">Returns all index paths.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#lockAllForIndex-org.elasticsearch.index.Index-org.elasticsearch.index.IndexSettings-long-">lockAllForIndex</a></span>&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
               <a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;settings,
               long&nbsp;lockTimeoutMS)</code></th>
<td class="colLast">
<div class="block">Tries to lock all local shards for the given index.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#lockedShards--">lockedShards</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Returns all currently lock shards.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.nio.file.Path[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#nodeDataPaths--">nodeDataPaths</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Returns an array of all of the nodes data locations.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#nodeId--">nodeId</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">returns the unique uuid describing this node.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../org/elasticsearch/env/NodeEnvironment.NodePath.html" title="class in org.elasticsearch.env">NodeEnvironment.NodePath</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#nodePaths--">nodePaths</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Returns an array of all of the <a href="../../../org/elasticsearch/env/NodeEnvironment.NodePath.html" title="class in org.elasticsearch.env"><code>NodeEnvironment.NodePath</code></a>s.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.nio.file.Path</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#resolveBaseCustomLocation-org.elasticsearch.index.IndexSettings-">resolveBaseCustomLocation</a></span>&#8203;(<a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings)</code></th>
<td class="colLast">
<div class="block">Resolve the custom path for a index's shard.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.nio.file.Path</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#resolveCustomLocation-org.elasticsearch.index.IndexSettings-org.elasticsearch.index.shard.ShardId-">resolveCustomLocation</a></span>&#8203;(<a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
                     <a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</code></th>
<td class="colLast">
<div class="block">Resolve the custom path for a index's shard.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.nio.file.Path[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#resolveIndexFolder-java.lang.String-">resolveIndexFolder</a></span>&#8203;(java.lang.String&nbsp;indexFolderName)</code></th>
<td class="colLast">
<div class="block">Resolves all existing paths to <code>indexFolderName</code> in ${data.paths}/nodes/{node.id}/indices</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static java.nio.file.Path</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#resolveNodePath-java.nio.file.Path-int-">resolveNodePath</a></span>&#8203;(java.nio.file.Path&nbsp;path,
               int&nbsp;nodeLockId)</code></th>
<td class="colLast">
<div class="block">Resolve a specific nodes/{node.id} path for the specified path and node lock id.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../org/elasticsearch/env/NodeEnvironment.NodePath.html" title="class in org.elasticsearch.env">NodeEnvironment.NodePath</a>,java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#shardCountPerPath-org.elasticsearch.index.Index-">shardCountPerPath</a></span>&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index)</code></th>
<td class="colLast">
<div class="block">Find all the shards for this index, returning a map of the <code>NodePath</code> to the number of shards on that path</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#shardLock-org.elasticsearch.index.shard.ShardId-">shardLock</a></span>&#8203;(<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Tries to lock the given shards ID.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#shardLock-org.elasticsearch.index.shard.ShardId-long-">shardLock</a></span>&#8203;(<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
         long&nbsp;lockTimeoutMS)</code></th>
<td class="colLast">
<div class="block">Tries to lock the given shards ID.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>static java.nio.file.Path</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/env/NodeEnvironment.html#shardStatePathToDataPath-java.nio.file.Path-">shardStatePathToDataPath</a></span>&#8203;(java.nio.file.Path&nbsp;shardPath)</code></th>
<td class="colLast">
<div class="block">Returns the <code>NodePath.path</code> for this shard.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_LOCAL_STORAGE_NODES_SETTING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_LOCAL_STORAGE_NODES_SETTING</h4>
<pre>public static final&nbsp;<a href="../../../org/elasticsearch/common/settings/Setting.html" title="class in org.elasticsearch.common.settings">Setting</a>&lt;java.lang.Integer&gt; MAX_LOCAL_STORAGE_NODES_SETTING</pre>
<div class="block">Maximum number of data nodes that should run in an environment.</div>
</li>
</ul>
<a name="NODE_ID_SEED_SETTING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NODE_ID_SEED_SETTING</h4>
<pre>public static final&nbsp;<a href="../../../org/elasticsearch/common/settings/Setting.html" title="class in org.elasticsearch.common.settings">Setting</a>&lt;java.lang.Long&gt; NODE_ID_SEED_SETTING</pre>
<div class="block">Seed for determining a persisted unique uuid of this node. If the node has already a persisted uuid on disk,
 this seed will be ignored and the uuid from disk will be reused.</div>
</li>
</ul>
<a name="ENABLE_LUCENE_SEGMENT_INFOS_TRACE_SETTING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ENABLE_LUCENE_SEGMENT_INFOS_TRACE_SETTING</h4>
<pre>public static final&nbsp;<a href="../../../org/elasticsearch/common/settings/Setting.html" title="class in org.elasticsearch.common.settings">Setting</a>&lt;java.lang.Boolean&gt; ENABLE_LUCENE_SEGMENT_INFOS_TRACE_SETTING</pre>
<div class="block">If true the [verbose] SegmentInfos.infoStream logging is sent to System.out.</div>
</li>
</ul>
<a name="NODES_FOLDER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NODES_FOLDER</h4>
<pre>public static final&nbsp;java.lang.String NODES_FOLDER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.elasticsearch.env.NodeEnvironment.NODES_FOLDER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INDICES_FOLDER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INDICES_FOLDER</h4>
<pre>public static final&nbsp;java.lang.String INDICES_FOLDER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.elasticsearch.env.NodeEnvironment.INDICES_FOLDER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NODE_LOCK_FILENAME">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NODE_LOCK_FILENAME</h4>
<pre>public static final&nbsp;java.lang.String NODE_LOCK_FILENAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.elasticsearch.env.NodeEnvironment.NODE_LOCK_FILENAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="NodeEnvironment-org.elasticsearch.common.settings.Settings-org.elasticsearch.env.Environment-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NodeEnvironment</h4>
<pre>public&nbsp;NodeEnvironment&#8203;(<a href="../../../org/elasticsearch/common/settings/Settings.html" title="class in org.elasticsearch.common.settings">Settings</a>&nbsp;settings,
                       <a href="../../../org/elasticsearch/env/Environment.html" title="class in org.elasticsearch.env">Environment</a>&nbsp;environment)
                throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="resolveNodePath-java.nio.file.Path-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveNodePath</h4>
<pre>public static&nbsp;java.nio.file.Path&nbsp;resolveNodePath&#8203;(java.nio.file.Path&nbsp;path,
                                                 int&nbsp;nodeLockId)</pre>
<div class="block">Resolve a specific nodes/{node.id} path for the specified path and node lock id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the path</dd>
<dd><code>nodeLockId</code> - the node lock id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the resolved path</dd>
</dl>
</li>
</ul>
<a name="generateNodeId-org.elasticsearch.common.settings.Settings-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateNodeId</h4>
<pre>public static&nbsp;java.lang.String&nbsp;generateNodeId&#8203;(<a href="../../../org/elasticsearch/common/settings/Settings.html" title="class in org.elasticsearch.common.settings">Settings</a>&nbsp;settings)</pre>
</li>
</ul>
<a name="deleteShardDirectorySafe-org.elasticsearch.index.shard.ShardId-org.elasticsearch.index.IndexSettings-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteShardDirectorySafe</h4>
<pre>public&nbsp;void&nbsp;deleteShardDirectorySafe&#8203;(<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
                                     <a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings)
                              throws java.io.IOException,
                                     <a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></pre>
<div class="block">Deletes a shard data directory iff the shards locks were successfully acquired.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>shardId</code> - the id of the shard to delete to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an IOException occurs</dd>
<dd><code><a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></code></dd>
</dl>
</li>
</ul>
<a name="acquireFSLockForPaths-org.elasticsearch.index.IndexSettings-java.nio.file.Path...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireFSLockForPaths</h4>
<pre>public static&nbsp;void&nbsp;acquireFSLockForPaths&#8203;(<a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
                                         java.nio.file.Path...&nbsp;shardPaths)
                                  throws java.io.IOException</pre>
<div class="block">Acquires, then releases, all <code>write.lock</code> files in the given
 shard paths. The "write.lock" file is assumed to be under the shard
 path's "index" directory as used by Elasticsearch.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.lucene.store.LockObtainFailedException</code> - if any of the locks could not be acquired</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="deleteShardDirectoryUnderLock-org.elasticsearch.env.ShardLock-org.elasticsearch.index.IndexSettings-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteShardDirectoryUnderLock</h4>
<pre>public&nbsp;void&nbsp;deleteShardDirectoryUnderLock&#8203;(<a href="../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;lock,
                                          <a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings)
                                   throws java.io.IOException</pre>
<div class="block">Deletes a shard data directory. Note: this method assumes that the shard
 lock is acquired. This method will also attempt to acquire the write
 locks for the shard's paths before deleting the data, but this is best
 effort, as the lock is released before the deletion happens in order to
 allow the folder to be deleted</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lock</code> - the shards lock</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an IOException occurs</dd>
<dd><code><a href="../../../org/elasticsearch/ElasticsearchException.html" title="class in org.elasticsearch">ElasticsearchException</a></code> - if the write.lock is not acquirable</dd>
</dl>
</li>
</ul>
<a name="deleteIndexDirectorySafe-org.elasticsearch.index.Index-long-org.elasticsearch.index.IndexSettings-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteIndexDirectorySafe</h4>
<pre>public&nbsp;void&nbsp;deleteIndexDirectorySafe&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
                                     long&nbsp;lockTimeoutMS,
                                     <a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings)
                              throws java.io.IOException,
                                     <a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></pre>
<div class="block">Deletes an indexes data directory recursively iff all of the indexes
 shards locks were successfully acquired. If any of the indexes shard directories can't be locked
 non of the shards will be deleted</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - the index to delete</dd>
<dd><code>lockTimeoutMS</code> - how long to wait for acquiring the indices shard locks</dd>
<dd><code>indexSettings</code> - settings for the index being deleted</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if any of the shards data directories can't be locked or deleted</dd>
<dd><code><a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></code></dd>
</dl>
</li>
</ul>
<a name="deleteIndexDirectoryUnderLock-org.elasticsearch.index.Index-org.elasticsearch.index.IndexSettings-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteIndexDirectoryUnderLock</h4>
<pre>public&nbsp;void&nbsp;deleteIndexDirectoryUnderLock&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
                                          <a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings)
                                   throws java.io.IOException</pre>
<div class="block">Deletes an indexes data directory recursively.
 Note: this method assumes that the shard lock is acquired</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - the index to delete</dd>
<dd><code>indexSettings</code> - settings for the index being deleted</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="lockAllForIndex-org.elasticsearch.index.Index-org.elasticsearch.index.IndexSettings-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockAllForIndex</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&gt;&nbsp;lockAllForIndex&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
                                                 <a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;settings,
                                                 long&nbsp;lockTimeoutMS)
                                          throws java.io.IOException,
                                                 <a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></pre>
<div class="block">Tries to lock all local shards for the given index. If any of the shard locks can't be acquired
 a <a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env"><code>ShardLockObtainFailedException</code></a> is thrown and all previously acquired locks are released.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - the index to lock shards for</dd>
<dd><code>lockTimeoutMS</code> - how long to wait for acquiring the indices shard locks</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env"><code>ShardLock</code></a> instances for this index.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an IOException occurs.</dd>
<dd><code><a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></code></dd>
</dl>
</li>
</ul>
<a name="shardLock-org.elasticsearch.index.shard.ShardId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shardLock</h4>
<pre>public&nbsp;<a href="../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;shardLock&#8203;(<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;id)
                    throws <a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></pre>
<div class="block">Tries to lock the given shards ID. A shard lock is required to perform any kind of
 write operation on a shards data directory like deleting files, creating a new index writer
 or recover from a different shard instance into it. If the shard lock can not be acquired
 a <a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env"><code>ShardLockObtainFailedException</code></a> is thrown.

 Note: this method will return immediately if the lock can't be acquired.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the shard ID to lock</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the shard lock. Call <a href="../../../org/elasticsearch/env/ShardLock.html#close--"><code>ShardLock.close()</code></a> to release the lock</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></code></dd>
</dl>
</li>
</ul>
<a name="shardLock-org.elasticsearch.index.shard.ShardId-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shardLock</h4>
<pre>public&nbsp;<a href="../../../org/elasticsearch/env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;shardLock&#8203;(<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
                           long&nbsp;lockTimeoutMS)
                    throws <a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></pre>
<div class="block">Tries to lock the given shards ID. A shard lock is required to perform any kind of
 write operation on a shards data directory like deleting files, creating a new index writer
 or recover from a different shard instance into it. If the shard lock can not be acquired
 a <a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env"><code>ShardLockObtainFailedException</code></a> is thrown</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>shardId</code> - the shard ID to lock</dd>
<dd><code>lockTimeoutMS</code> - the lock timeout in milliseconds</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the shard lock. Call <a href="../../../org/elasticsearch/env/ShardLock.html#close--"><code>ShardLock.close()</code></a> to release the lock</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/elasticsearch/env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></code></dd>
</dl>
</li>
</ul>
<a name="lockedShards--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockedShards</h4>
<pre>public&nbsp;java.util.Set&lt;<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&gt;&nbsp;lockedShards&#8203;()</pre>
<div class="block">Returns all currently lock shards.

 Note: the shard ids return do not contain a valid Index UUID</div>
</li>
</ul>
<a name="hasNodeFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasNodeFile</h4>
<pre>public&nbsp;boolean&nbsp;hasNodeFile&#8203;()</pre>
</li>
</ul>
<a name="nodeDataPaths--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeDataPaths</h4>
<pre>public&nbsp;java.nio.file.Path[]&nbsp;nodeDataPaths&#8203;()</pre>
<div class="block">Returns an array of all of the nodes data locations.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the node is not configured to store local locations</dd>
</dl>
</li>
</ul>
<a name="nodeId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeId</h4>
<pre>public&nbsp;java.lang.String&nbsp;nodeId&#8203;()</pre>
<div class="block">returns the unique uuid describing this node. The uuid is persistent in the data folder of this node
 and remains across restarts.</div>
</li>
</ul>
<a name="nodePaths--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodePaths</h4>
<pre>public&nbsp;<a href="../../../org/elasticsearch/env/NodeEnvironment.NodePath.html" title="class in org.elasticsearch.env">NodeEnvironment.NodePath</a>[]&nbsp;nodePaths&#8203;()</pre>
<div class="block">Returns an array of all of the <a href="../../../org/elasticsearch/env/NodeEnvironment.NodePath.html" title="class in org.elasticsearch.env"><code>NodeEnvironment.NodePath</code></a>s.</div>
</li>
</ul>
<a name="getNodeLockId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNodeLockId</h4>
<pre>public&nbsp;int&nbsp;getNodeLockId&#8203;()</pre>
</li>
</ul>
<a name="indexPaths-org.elasticsearch.index.Index-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexPaths</h4>
<pre>public&nbsp;java.nio.file.Path[]&nbsp;indexPaths&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index)</pre>
<div class="block">Returns all index paths.</div>
</li>
</ul>
<a name="availableShardPaths-org.elasticsearch.index.shard.ShardId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>availableShardPaths</h4>
<pre>public&nbsp;java.nio.file.Path[]&nbsp;availableShardPaths&#8203;(<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</pre>
<div class="block">Returns all shard paths excluding custom shard path. Note: Shards are only allocated on one of the
 returned paths. The returned array may contain paths to non-existing directories.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/elasticsearch/index/IndexSettings.html#hasCustomDataPath--"><code>IndexSettings.hasCustomDataPath()</code></a>, 
<a href="../../../org/elasticsearch/env/NodeEnvironment.html#resolveCustomLocation-org.elasticsearch.index.IndexSettings-org.elasticsearch.index.shard.ShardId-"><code>resolveCustomLocation(IndexSettings, ShardId)</code></a></dd>
</dl>
</li>
</ul>
<a name="availableIndexFolders--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>availableIndexFolders</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;availableIndexFolders&#8203;()
                                                      throws java.io.IOException</pre>
<div class="block">Returns all folder names in ${data.paths}/nodes/{node.id}/indices folder</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="availableIndexFoldersForPath-org.elasticsearch.env.NodeEnvironment.NodePath-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>availableIndexFoldersForPath</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;availableIndexFoldersForPath&#8203;(<a href="../../../org/elasticsearch/env/NodeEnvironment.NodePath.html" title="class in org.elasticsearch.env">NodeEnvironment.NodePath</a>&nbsp;nodePath)
                                                             throws java.io.IOException</pre>
<div class="block">Return all directory names in the nodes/{node.id}/indices directory for the given node path.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nodePath</code> - the path</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all directories that could be indices for the given node path.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O exception occurs traversing the filesystem</dd>
</dl>
</li>
</ul>
<a name="resolveIndexFolder-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveIndexFolder</h4>
<pre>public&nbsp;java.nio.file.Path[]&nbsp;resolveIndexFolder&#8203;(java.lang.String&nbsp;indexFolderName)
                                        throws java.io.IOException</pre>
<div class="block">Resolves all existing paths to <code>indexFolderName</code> in ${data.paths}/nodes/{node.id}/indices</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="findAllShardIds-org.elasticsearch.index.Index-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findAllShardIds</h4>
<pre>public&nbsp;java.util.Set&lt;<a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&gt;&nbsp;findAllShardIds&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index)
                                       throws java.io.IOException</pre>
<div class="block">Tries to find all allocated shards for the given index
 on the current node. NOTE: This methods is prone to race-conditions on the filesystem layer since it might not
 see directories created concurrently or while it's traversing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - the index to filter shards</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a set of shard IDs</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an IOException occurs</dd>
</dl>
</li>
</ul>
<a name="shardCountPerPath-org.elasticsearch.index.Index-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shardCountPerPath</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../org/elasticsearch/env/NodeEnvironment.NodePath.html" title="class in org.elasticsearch.env">NodeEnvironment.NodePath</a>,java.lang.Long&gt;&nbsp;shardCountPerPath&#8203;(<a href="../../../org/elasticsearch/index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index)
                                                                         throws java.io.IOException</pre>
<div class="block">Find all the shards for this index, returning a map of the <code>NodePath</code> to the number of shards on that path</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - the index by which to filter shards</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a map of NodePath to count of the shards for the index on that path</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an IOException occurs</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close&#8203;()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.io.Closeable</code></dd>
</dl>
</li>
</ul>
<a name="ensureAtomicMoveSupported--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureAtomicMoveSupported</h4>
<pre>public&nbsp;void&nbsp;ensureAtomicMoveSupported&#8203;()
                               throws java.io.IOException</pre>
<div class="block">This method tries to write an empty file and moves it using an atomic move operation.
 This method throws an <code>IllegalStateException</code> if this operation is
 not supported by the filesystem. This test is executed on each of the data directories.
 This method cleans up all files even in the case of an error.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="resolveBaseCustomLocation-org.elasticsearch.index.IndexSettings-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveBaseCustomLocation</h4>
<pre>public&nbsp;java.nio.file.Path&nbsp;resolveBaseCustomLocation&#8203;(<a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings)</pre>
<div class="block">Resolve the custom path for a index's shard.
 Uses the <code>IndexMetaData.SETTING_DATA_PATH</code> setting to determine
 the root path for the index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexSettings</code> - settings for the index</dd>
</dl>
</li>
</ul>
<a name="resolveCustomLocation-org.elasticsearch.index.IndexSettings-org.elasticsearch.index.shard.ShardId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveCustomLocation</h4>
<pre>public&nbsp;java.nio.file.Path&nbsp;resolveCustomLocation&#8203;(<a href="../../../org/elasticsearch/index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
                                                <a href="../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</pre>
<div class="block">Resolve the custom path for a index's shard.
 Uses the <code>IndexMetaData.SETTING_DATA_PATH</code> setting to determine
 the root path for the index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexSettings</code> - settings for the index</dd>
<dd><code>shardId</code> - shard to resolve the path to</dd>
</dl>
</li>
</ul>
<a name="shardStatePathToDataPath-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shardStatePathToDataPath</h4>
<pre>public static&nbsp;java.nio.file.Path&nbsp;shardStatePathToDataPath&#8203;(java.nio.file.Path&nbsp;shardPath)</pre>
<div class="block">Returns the <code>NodePath.path</code> for this shard.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/elasticsearch/env/Environment.html" title="class in org.elasticsearch.env"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/elasticsearch/env/NodeEnvironment.NodePath.html" title="class in org.elasticsearch.env"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/elasticsearch/env/NodeEnvironment.html" target="_top">Frames</a></li>
<li><a href="NodeEnvironment.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
