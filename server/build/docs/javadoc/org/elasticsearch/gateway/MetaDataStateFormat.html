<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9-Ubuntu) on Mon Feb 12 16:57:28 IST 2018 -->
<title>MetaDataStateFormat (server 6.3.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2018-02-12">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MetaDataStateFormat (server 6.3.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":6,"i3":10,"i4":10,"i5":10,"i6":10,"i7":6,"i8":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/elasticsearch/gateway/LocalAllocateDangledIndices.Listener.html" title="interface in org.elasticsearch.gateway"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/elasticsearch/gateway/MetaStateService.html" title="class in org.elasticsearch.gateway"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/elasticsearch/gateway/MetaDataStateFormat.html" target="_top">Frames</a></li>
<li><a href="MetaDataStateFormat.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="../../../org/elasticsearch/gateway/package-summary.html">org.elasticsearch.gateway</a></div>
<h2 title="Class MetaDataStateFormat" class="title">Class MetaDataStateFormat&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.elasticsearch.gateway.MetaDataStateFormat&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of the XContent base data-structure</dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">MetaDataStateFormat&lt;T&gt;</span>
extends java.lang.Object</pre>
<div class="block">MetaDataStateFormat is a base class to write checksummed
 XContent based files to one or more directories in a standardized directory structure.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#STATE_DIR_NAME">STATE_DIR_NAME</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#STATE_FILE_EXTENSION">STATE_FILE_EXTENSION</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#MetaDataStateFormat-org.elasticsearch.common.xcontent.XContentType-java.lang.String-">MetaDataStateFormat</a></span>&#8203;(<a href="../../../org/elasticsearch/common/xcontent/XContentType.html" title="enum in org.elasticsearch.common.xcontent">XContentType</a>&nbsp;format,
                   java.lang.String&nbsp;prefix)</code></th>
<td class="colLast">
<div class="block">Creates a new <a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="class in org.elasticsearch.gateway"><code>MetaDataStateFormat</code></a> instance</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#deleteMetaState-java.nio.file.Path...-">deleteMetaState</a></span>&#8203;(java.nio.file.Path...&nbsp;dataLocations)</code></th>
<td class="colLast">
<div class="block">Deletes all meta state directories recursively for the given data locations</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../org/elasticsearch/common/xcontent/XContentType.html" title="enum in org.elasticsearch.common.xcontent">XContentType</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#format--">format</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Returns the <a href="../../../org/elasticsearch/common/xcontent/XContentType.html" title="enum in org.elasticsearch.common.xcontent"><code>XContentType</code></a> used to serialize xcontent on write.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="type parameter in MetaDataStateFormat">T</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#fromXContent-org.elasticsearch.common.xcontent.XContentParser-">fromXContent</a></span>&#8203;(<a href="../../../org/elasticsearch/common/xcontent/XContentParser.html" title="interface in org.elasticsearch.common.xcontent">XContentParser</a>&nbsp;parser)</code></th>
<td class="colLast">
<div class="block">Reads a new instance of the state from the given XContentParser
 Subclasses need to implement this class for theirs specific state.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="type parameter in MetaDataStateFormat">T</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#loadLatestState-org.apache.logging.log4j.Logger-org.elasticsearch.common.xcontent.NamedXContentRegistry-java.nio.file.Path...-">loadLatestState</a></span>&#8203;(org.apache.logging.log4j.Logger&nbsp;logger,
               <a href="../../../org/elasticsearch/common/xcontent/NamedXContentRegistry.html" title="class in org.elasticsearch.common.xcontent">NamedXContentRegistry</a>&nbsp;namedXContentRegistry,
               java.nio.file.Path...&nbsp;dataLocations)</code></th>
<td class="colLast">
<div class="block">Tries to load the latest state from the given data-locations.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected org.apache.lucene.store.Directory</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#newDirectory-java.nio.file.Path-">newDirectory</a></span>&#8203;(java.nio.file.Path&nbsp;dir)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../org/elasticsearch/common/xcontent/XContentBuilder.html" title="class in org.elasticsearch.common.xcontent">XContentBuilder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#newXContentBuilder-org.elasticsearch.common.xcontent.XContentType-java.io.OutputStream-">newXContentBuilder</a></span>&#8203;(<a href="../../../org/elasticsearch/common/xcontent/XContentType.html" title="enum in org.elasticsearch.common.xcontent">XContentType</a>&nbsp;type,
                  java.io.OutputStream&nbsp;stream)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="type parameter in MetaDataStateFormat">T</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#read-org.elasticsearch.common.xcontent.NamedXContentRegistry-java.nio.file.Path-">read</a></span>&#8203;(<a href="../../../org/elasticsearch/common/xcontent/NamedXContentRegistry.html" title="class in org.elasticsearch.common.xcontent">NamedXContentRegistry</a>&nbsp;namedXContentRegistry,
    java.nio.file.Path&nbsp;file)</code></th>
<td class="colLast">
<div class="block">Reads the state from a given file and compares the expected version against the actual version of
 the state.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#toXContent-org.elasticsearch.common.xcontent.XContentBuilder-T-">toXContent</a></span>&#8203;(<a href="../../../org/elasticsearch/common/xcontent/XContentBuilder.html" title="class in org.elasticsearch.common.xcontent">XContentBuilder</a>&nbsp;builder,
          <a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="type parameter in MetaDataStateFormat">T</a>&nbsp;state)</code></th>
<td class="colLast">
<div class="block">Writes the given state to the given XContentBuilder
 Subclasses need to implement this class for theirs specific state.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html#write-T-java.nio.file.Path...-">write</a></span>&#8203;(<a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="type parameter in MetaDataStateFormat">T</a>&nbsp;state,
     java.nio.file.Path...&nbsp;locations)</code></th>
<td class="colLast">
<div class="block">Writes the given state to the given directories.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="STATE_DIR_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STATE_DIR_NAME</h4>
<pre>public static final&nbsp;java.lang.String STATE_DIR_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.elasticsearch.gateway.MetaDataStateFormat.STATE_DIR_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="STATE_FILE_EXTENSION">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>STATE_FILE_EXTENSION</h4>
<pre>public static final&nbsp;java.lang.String STATE_FILE_EXTENSION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.elasticsearch.gateway.MetaDataStateFormat.STATE_FILE_EXTENSION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MetaDataStateFormat-org.elasticsearch.common.xcontent.XContentType-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MetaDataStateFormat</h4>
<pre>protected&nbsp;MetaDataStateFormat&#8203;(<a href="../../../org/elasticsearch/common/xcontent/XContentType.html" title="enum in org.elasticsearch.common.xcontent">XContentType</a>&nbsp;format,
                              java.lang.String&nbsp;prefix)</pre>
<div class="block">Creates a new <a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="class in org.elasticsearch.gateway"><code>MetaDataStateFormat</code></a> instance</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>format</code> - the format of the x-content</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="format--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>format</h4>
<pre>public&nbsp;<a href="../../../org/elasticsearch/common/xcontent/XContentType.html" title="enum in org.elasticsearch.common.xcontent">XContentType</a>&nbsp;format&#8203;()</pre>
<div class="block">Returns the <a href="../../../org/elasticsearch/common/xcontent/XContentType.html" title="enum in org.elasticsearch.common.xcontent"><code>XContentType</code></a> used to serialize xcontent on write.</div>
</li>
</ul>
<a name="write-java.lang.Object-java.nio.file.Path:A-">
<!--   -->
</a><a name="write-T-java.nio.file.Path...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public final&nbsp;void&nbsp;write&#8203;(<a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="type parameter in MetaDataStateFormat">T</a>&nbsp;state,
                        java.nio.file.Path...&nbsp;locations)
                 throws java.io.IOException</pre>
<div class="block">Writes the given state to the given directories. The state is written to a
 state directory () underneath each of the given file locations and is created if it
 doesn't exist. The state is serialized to a temporary file in that directory and is then atomically moved to
 it's target filename of the pattern <tt>{prefix}{version}.st</tt>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - the state object to write</dd>
<dd><code>locations</code> - the locations where the state should be written to.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an IOException occurs</dd>
</dl>
</li>
</ul>
<a name="newXContentBuilder-org.elasticsearch.common.xcontent.XContentType-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newXContentBuilder</h4>
<pre>protected&nbsp;<a href="../../../org/elasticsearch/common/xcontent/XContentBuilder.html" title="class in org.elasticsearch.common.xcontent">XContentBuilder</a>&nbsp;newXContentBuilder&#8203;(<a href="../../../org/elasticsearch/common/xcontent/XContentType.html" title="enum in org.elasticsearch.common.xcontent">XContentType</a>&nbsp;type,
                                             java.io.OutputStream&nbsp;stream)
                                      throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="toXContent-org.elasticsearch.common.xcontent.XContentBuilder-java.lang.Object-">
<!--   -->
</a><a name="toXContent-org.elasticsearch.common.xcontent.XContentBuilder-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toXContent</h4>
<pre>public abstract&nbsp;void&nbsp;toXContent&#8203;(<a href="../../../org/elasticsearch/common/xcontent/XContentBuilder.html" title="class in org.elasticsearch.common.xcontent">XContentBuilder</a>&nbsp;builder,
                                <a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="type parameter in MetaDataStateFormat">T</a>&nbsp;state)
                         throws java.io.IOException</pre>
<div class="block">Writes the given state to the given XContentBuilder
 Subclasses need to implement this class for theirs specific state.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="fromXContent-org.elasticsearch.common.xcontent.XContentParser-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fromXContent</h4>
<pre>public abstract&nbsp;<a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="type parameter in MetaDataStateFormat">T</a>&nbsp;fromXContent&#8203;(<a href="../../../org/elasticsearch/common/xcontent/XContentParser.html" title="interface in org.elasticsearch.common.xcontent">XContentParser</a>&nbsp;parser)
                        throws java.io.IOException</pre>
<div class="block">Reads a new instance of the state from the given XContentParser
 Subclasses need to implement this class for theirs specific state.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="read-org.elasticsearch.common.xcontent.NamedXContentRegistry-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public final&nbsp;<a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="type parameter in MetaDataStateFormat">T</a>&nbsp;read&#8203;(<a href="../../../org/elasticsearch/common/xcontent/NamedXContentRegistry.html" title="class in org.elasticsearch.common.xcontent">NamedXContentRegistry</a>&nbsp;namedXContentRegistry,
                    java.nio.file.Path&nbsp;file)
             throws java.io.IOException</pre>
<div class="block">Reads the state from a given file and compares the expected version against the actual version of
 the state.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="newDirectory-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newDirectory</h4>
<pre>protected&nbsp;org.apache.lucene.store.Directory&nbsp;newDirectory&#8203;(java.nio.file.Path&nbsp;dir)
                                                  throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="loadLatestState-org.apache.logging.log4j.Logger-org.elasticsearch.common.xcontent.NamedXContentRegistry-java.nio.file.Path...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadLatestState</h4>
<pre>public&nbsp;<a href="../../../org/elasticsearch/gateway/MetaDataStateFormat.html" title="type parameter in MetaDataStateFormat">T</a>&nbsp;loadLatestState&#8203;(org.apache.logging.log4j.Logger&nbsp;logger,
                         <a href="../../../org/elasticsearch/common/xcontent/NamedXContentRegistry.html" title="class in org.elasticsearch.common.xcontent">NamedXContentRegistry</a>&nbsp;namedXContentRegistry,
                         java.nio.file.Path...&nbsp;dataLocations)
                  throws java.io.IOException</pre>
<div class="block">Tries to load the latest state from the given data-locations. It tries to load the latest state determined by
 the states version from one or more data directories and if none of the latest states can be loaded an exception
 is thrown to prevent accidentally loading a previous state and silently omitting the latest state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>logger</code> - a logger instance</dd>
<dd><code>dataLocations</code> - the data-locations to try.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the latest state or <code>null</code> if no state was found.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="deleteMetaState-java.nio.file.Path...-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteMetaState</h4>
<pre>public static&nbsp;void&nbsp;deleteMetaState&#8203;(java.nio.file.Path...&nbsp;dataLocations)
                            throws java.io.IOException</pre>
<div class="block">Deletes all meta state directories recursively for the given data locations</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataLocations</code> - the data location to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/elasticsearch/gateway/LocalAllocateDangledIndices.Listener.html" title="interface in org.elasticsearch.gateway"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/elasticsearch/gateway/MetaStateService.html" title="class in org.elasticsearch.gateway"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/elasticsearch/gateway/MetaDataStateFormat.html" target="_top">Frames</a></li>
<li><a href="MetaDataStateFormat.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
