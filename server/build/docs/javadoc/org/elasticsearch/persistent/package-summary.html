<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9-Ubuntu) on Mon Feb 12 16:58:02 IST 2018 -->
<title>org.elasticsearch.persistent (server 6.3.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2018-02-12">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.elasticsearch.persistent (server 6.3.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/elasticsearch/node/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../org/elasticsearch/plugins/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/elasticsearch/persistent/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.elasticsearch.persistent</h1>
</div>
<div class="contentContainer">
<div class="block">The Persistent Tasks Executors are responsible for executing restartable tasks that can survive disappearance of a
 coordinating and executor nodes.
 <p>
 In order to be resilient to node restarts, the persistent tasks are using the cluster state instead of a transport service to send
 requests and responses. The execution is done in six phases:
 <p>
 1. The coordinating node sends an ordinary transport request to the master node to start a new persistent task. This task is handled
 by the <a href="../../../org/elasticsearch/persistent/PersistentTasksService.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksService</code></a>, which is using
 <a href="../../../org/elasticsearch/persistent/PersistentTasksClusterService.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksClusterService</code></a> to update cluster state with the record about running persistent
 task.
 <p>
 2. The master node updates the <a href="../../../org/elasticsearch/persistent/PersistentTasksCustomMetaData.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksCustomMetaData</code></a> in the cluster state to indicate
 that there is a new persistent task is running in the system.
 <p>
 3. The <a href="../../../org/elasticsearch/persistent/PersistentTasksNodeService.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksNodeService</code></a> running on every node in the cluster monitors changes in
 the cluster state and starts execution of all new tasks assigned to the node it is running on.
 <p>
 4. If the task fails to start on the node, the <a href="../../../org/elasticsearch/persistent/PersistentTasksNodeService.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksNodeService</code></a> uses the
 <a href="../../../org/elasticsearch/persistent/PersistentTasksCustomMetaData.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksCustomMetaData</code></a> to notify the
 <a href="../../../org/elasticsearch/persistent/PersistentTasksService.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksService</code></a>, which reassigns the action to another node in the cluster.
 <p>
 5. If a task finishes successfully on the node and calls listener.onResponse(), the corresponding persistent action is removed from the
 cluster state unless removeOnCompletion flag for this task is set to false.
 <p>
 6. The <a href="../../../org/elasticsearch/persistent/RemovePersistentTaskAction.html" title="class in org.elasticsearch.persistent"><code>RemovePersistentTaskAction</code></a> action can be also used to remove the persistent task.</div>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTaskParams.html" title="interface in org.elasticsearch.persistent">PersistentTaskParams</a></th>
<td class="colLast">
<div class="block">Parameters used to start persistent task</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTasksService.WaitForPersistentTaskStatusListener.html" title="interface in org.elasticsearch.persistent">PersistentTasksService.WaitForPersistentTaskStatusListener</a>&lt;Params extends <a href="../../../org/elasticsearch/persistent/PersistentTaskParams.html" title="interface in org.elasticsearch.persistent">PersistentTaskParams</a>&gt;</th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/AllocatedPersistentTask.html" title="class in org.elasticsearch.persistent">AllocatedPersistentTask</a></th>
<td class="colLast">
<div class="block">Represents a executor node operation that corresponds to a persistent task</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/CompletionPersistentTaskAction.html" title="class in org.elasticsearch.persistent">CompletionPersistentTaskAction</a></th>
<td class="colLast">
<div class="block">Action that is used by executor node to indicate that the persistent action finished or failed on the node and needs to be
 removed from the cluster state in case of successful completion or restarted on some other node in case of failure.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/CompletionPersistentTaskAction.Request.html" title="class in org.elasticsearch.persistent">CompletionPersistentTaskAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/CompletionPersistentTaskAction.RequestBuilder.html" title="class in org.elasticsearch.persistent">CompletionPersistentTaskAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/CompletionPersistentTaskAction.TransportAction.html" title="class in org.elasticsearch.persistent">CompletionPersistentTaskAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/NodePersistentTasksExecutor.html" title="class in org.elasticsearch.persistent">NodePersistentTasksExecutor</a></th>
<td class="colLast">
<div class="block">This component is responsible for execution of persistent tasks.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTaskResponse.html" title="class in org.elasticsearch.persistent">PersistentTaskResponse</a></th>
<td class="colLast">
<div class="block">Response upon a successful start or an persistent task</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTasksClusterService.html" title="class in org.elasticsearch.persistent">PersistentTasksClusterService</a></th>
<td class="colLast">
<div class="block">Component that runs only on the master node and is responsible for assigning running tasks to nodes</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTasksCustomMetaData.html" title="class in org.elasticsearch.persistent">PersistentTasksCustomMetaData</a></th>
<td class="colLast">
<div class="block">A cluster state record that contains a list of all running persistent tasks</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTasksCustomMetaData.Assignment.html" title="class in org.elasticsearch.persistent">PersistentTasksCustomMetaData.Assignment</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTasksCustomMetaData.Builder.html" title="class in org.elasticsearch.persistent">PersistentTasksCustomMetaData.Builder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTasksCustomMetaData.PersistentTask.html" title="class in org.elasticsearch.persistent">PersistentTasksCustomMetaData.PersistentTask</a>&lt;P extends <a href="../../../org/elasticsearch/persistent/PersistentTaskParams.html" title="interface in org.elasticsearch.persistent">PersistentTaskParams</a>&gt;</th>
<td class="colLast">
<div class="block">A record that represents a single running persistent task</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTasksExecutor.html" title="class in org.elasticsearch.persistent">PersistentTasksExecutor</a>&lt;Params extends <a href="../../../org/elasticsearch/persistent/PersistentTaskParams.html" title="interface in org.elasticsearch.persistent">PersistentTaskParams</a>&gt;</th>
<td class="colLast">
<div class="block">An executor of tasks that can survive restart of requesting or executing node.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTasksExecutorRegistry.html" title="class in org.elasticsearch.persistent">PersistentTasksExecutorRegistry</a></th>
<td class="colLast">
<div class="block">Components that registers all persistent task executors</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTasksNodeService.html" title="class in org.elasticsearch.persistent">PersistentTasksNodeService</a></th>
<td class="colLast">
<div class="block">This component is responsible for coordination of execution of persistent tasks on individual nodes.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTasksNodeService.Status.html" title="class in org.elasticsearch.persistent">PersistentTasksNodeService.Status</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/PersistentTasksService.html" title="class in org.elasticsearch.persistent">PersistentTasksService</a></th>
<td class="colLast">
<div class="block">This service is used by persistent actions to propagate changes in the action state and notify about completion</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/RemovePersistentTaskAction.html" title="class in org.elasticsearch.persistent">RemovePersistentTaskAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/RemovePersistentTaskAction.Request.html" title="class in org.elasticsearch.persistent">RemovePersistentTaskAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/RemovePersistentTaskAction.RequestBuilder.html" title="class in org.elasticsearch.persistent">RemovePersistentTaskAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/RemovePersistentTaskAction.TransportAction.html" title="class in org.elasticsearch.persistent">RemovePersistentTaskAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/StartPersistentTaskAction.html" title="class in org.elasticsearch.persistent">StartPersistentTaskAction</a></th>
<td class="colLast">
<div class="block">This action can be used to add the record for the persistent action to the cluster state.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/StartPersistentTaskAction.Request.html" title="class in org.elasticsearch.persistent">StartPersistentTaskAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/StartPersistentTaskAction.RequestBuilder.html" title="class in org.elasticsearch.persistent">StartPersistentTaskAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/StartPersistentTaskAction.TransportAction.html" title="class in org.elasticsearch.persistent">StartPersistentTaskAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/UpdatePersistentTaskStatusAction.html" title="class in org.elasticsearch.persistent">UpdatePersistentTaskStatusAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/UpdatePersistentTaskStatusAction.Request.html" title="class in org.elasticsearch.persistent">UpdatePersistentTaskStatusAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/UpdatePersistentTaskStatusAction.RequestBuilder.html" title="class in org.elasticsearch.persistent">UpdatePersistentTaskStatusAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/UpdatePersistentTaskStatusAction.TransportAction.html" title="class in org.elasticsearch.persistent">UpdatePersistentTaskStatusAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" summary="Enum Summary table, listing enums, and an explanation">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="../../../org/elasticsearch/persistent/AllocatedPersistentTask.State.html" title="enum in org.elasticsearch.persistent">AllocatedPersistentTask.State</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/elasticsearch/node/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../org/elasticsearch/plugins/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/elasticsearch/persistent/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
