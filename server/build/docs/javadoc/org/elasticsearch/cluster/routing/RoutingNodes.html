<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9-Ubuntu) on Mon Feb 12 16:57:44 IST 2018 -->
<title>RoutingNodes (server 6.3.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2018-02-12">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RoutingNodes (server 6.3.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.UnassignedShards.html" title="class in org.elasticsearch.cluster.routing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/elasticsearch/cluster/routing/RoutingNodes.html" target="_top">Frames</a></li>
<li><a href="RoutingNodes.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="../../../../org/elasticsearch/cluster/routing/package-summary.html">org.elasticsearch.cluster.routing</a></div>
<h2 title="Class RoutingNodes" class="title">Class RoutingNodes</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.elasticsearch.cluster.routing.RoutingNodes</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.lang.Iterable&lt;<a href="../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&gt;</code></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">RoutingNodes</span>
extends java.lang.Object
implements java.lang.Iterable&lt;<a href="../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&gt;</pre>
<div class="block"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html" title="class in org.elasticsearch.cluster.routing"><code>RoutingNodes</code></a> represents a copy the routing information contained in the <a href="../../../../org/elasticsearch/cluster/ClusterState.html" title="class in org.elasticsearch.cluster"><code>cluster state</code></a>.
 It can be either initialized as mutable or immutable (see <a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#RoutingNodes-org.elasticsearch.cluster.ClusterState-boolean-"><code>RoutingNodes(ClusterState, boolean)</code></a>), allowing
 or disallowing changes to its elements.

 The main methods used to update routing entries are:
 <ul>
 <li> <a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#initializeShard-org.elasticsearch.cluster.routing.ShardRouting-java.lang.String-java.lang.String-long-org.elasticsearch.cluster.routing.RoutingChangesObserver-"><code>initializeShard(org.elasticsearch.cluster.routing.ShardRouting, java.lang.String, java.lang.String, long, org.elasticsearch.cluster.routing.RoutingChangesObserver)</code></a> initializes an unassigned shard.
 <li> <a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#startShard-org.apache.logging.log4j.Logger-org.elasticsearch.cluster.routing.ShardRouting-org.elasticsearch.cluster.routing.RoutingChangesObserver-"><code>startShard(org.apache.logging.log4j.Logger, org.elasticsearch.cluster.routing.ShardRouting, org.elasticsearch.cluster.routing.RoutingChangesObserver)</code></a> starts an initializing shard / completes relocation of a shard.
 <li> <a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#relocateShard-org.elasticsearch.cluster.routing.ShardRouting-java.lang.String-long-org.elasticsearch.cluster.routing.RoutingChangesObserver-"><code>relocateShard(org.elasticsearch.cluster.routing.ShardRouting, java.lang.String, long, org.elasticsearch.cluster.routing.RoutingChangesObserver)</code></a> starts relocation of a started shard.
 <li> <a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#failShard-org.apache.logging.log4j.Logger-org.elasticsearch.cluster.routing.ShardRouting-org.elasticsearch.cluster.routing.UnassignedInfo-org.elasticsearch.cluster.metadata.IndexMetaData-org.elasticsearch.cluster.routing.RoutingChangesObserver-"><code>failShard(org.apache.logging.log4j.Logger, org.elasticsearch.cluster.routing.ShardRouting, org.elasticsearch.cluster.routing.UnassignedInfo, org.elasticsearch.cluster.metadata.IndexMetaData, org.elasticsearch.cluster.routing.RoutingChangesObserver)</code></a> fails/cancels an assigned shard.
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.UnassignedShards.html" title="class in org.elasticsearch.cluster.routing">RoutingNodes.UnassignedShards</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#RoutingNodes-org.elasticsearch.cluster.ClusterState-">RoutingNodes</a></span>&#8203;(<a href="../../../../org/elasticsearch/cluster/ClusterState.html" title="class in org.elasticsearch.cluster">ClusterState</a>&nbsp;clusterState)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#RoutingNodes-org.elasticsearch.cluster.ClusterState-boolean-">RoutingNodes</a></span>&#8203;(<a href="../../../../org/elasticsearch/cluster/ClusterState.html" title="class in org.elasticsearch.cluster">ClusterState</a>&nbsp;clusterState,
            boolean&nbsp;readOnly)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#activePrimary-org.elasticsearch.index.shard.ShardId-">activePrimary</a></span>&#8203;(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</code></th>
<td class="colLast">
<div class="block">Returns the active primary shard for the given shard id or <code>null</code> if
 no primary is found or the primary is not active.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#activeReplicaWithHighestVersion-org.elasticsearch.index.shard.ShardId-">activeReplicaWithHighestVersion</a></span>&#8203;(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</code></th>
<td class="colLast">
<div class="block">Returns one active replica shard for the given shard id or <code>null</code> if
 no active replica is found.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#allReplicasActive-org.elasticsearch.index.shard.ShardId-org.elasticsearch.cluster.metadata.MetaData-">allReplicasActive</a></span>&#8203;(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
                 <a href="../../../../org/elasticsearch/cluster/metadata/MetaData.html" title="class in org.elasticsearch.cluster.metadata">MetaData</a>&nbsp;metaData)</code></th>
<td class="colLast">
<div class="block">Returns <code>true</code> iff all replicas are active for the given shard routing.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#assertShardStats-org.elasticsearch.cluster.routing.RoutingNodes-">assertShardStats</a></span>&#8203;(<a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html" title="class in org.elasticsearch.cluster.routing">RoutingNodes</a>&nbsp;routingNodes)</code></th>
<td class="colLast">
<div class="block">Calculates RoutingNodes statistics by iterating over all <a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing"><code>ShardRouting</code></a>s
 in the cluster to ensure the book-keeping is correct.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#assignedShards-org.elasticsearch.index.shard.ShardId-">assignedShards</a></span>&#8203;(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</code></th>
<td class="colLast">
<div class="block">Returns all shards that are not in the state UNASSIGNED with the same shard
 ID as the given shard.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#failShard-org.apache.logging.log4j.Logger-org.elasticsearch.cluster.routing.ShardRouting-org.elasticsearch.cluster.routing.UnassignedInfo-org.elasticsearch.cluster.metadata.IndexMetaData-org.elasticsearch.cluster.routing.RoutingChangesObserver-">failShard</a></span>&#8203;(org.apache.logging.log4j.Logger&nbsp;logger,
         <a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;failedShard,
         <a href="../../../../org/elasticsearch/cluster/routing/UnassignedInfo.html" title="class in org.elasticsearch.cluster.routing">UnassignedInfo</a>&nbsp;unassignedInfo,
         <a href="../../../../org/elasticsearch/cluster/metadata/IndexMetaData.html" title="class in org.elasticsearch.cluster.metadata">IndexMetaData</a>&nbsp;indexMetaData,
         <a href="../../../../org/elasticsearch/cluster/routing/RoutingChangesObserver.html" title="interface in org.elasticsearch.cluster.routing">RoutingChangesObserver</a>&nbsp;routingChangesObserver)</code></th>
<td class="colLast">
<div class="block">Applies the relevant logic to handle a cancelled or failed shard.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#getByAllocationId-org.elasticsearch.index.shard.ShardId-java.lang.String-">getByAllocationId</a></span>&#8203;(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
                 java.lang.String&nbsp;allocationId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#getIncomingRecoveries-java.lang.String-">getIncomingRecoveries</a></span>&#8203;(java.lang.String&nbsp;nodeId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#getOutgoingRecoveries-java.lang.String-">getOutgoingRecoveries</a></span>&#8203;(java.lang.String&nbsp;nodeId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#getRelocatingShardCount--">getRelocatingShardCount</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#hasInactivePrimaries--">hasInactivePrimaries</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#hasInactiveShards--">hasInactiveShards</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#hasUnassignedPrimaries--">hasUnassignedPrimaries</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Returns <code>true</code> iff this <a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html" title="class in org.elasticsearch.cluster.routing"><code>RoutingNodes</code></a> instance has any unassigned primaries even if the
 primaries are marked as temporarily ignored.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#hasUnassignedShards--">hasUnassignedShards</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Returns <code>true</code> iff this <a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html" title="class in org.elasticsearch.cluster.routing"><code>RoutingNodes</code></a> instance has any unassigned shards even if the
 shards are marked as temporarily ignored.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#initializeShard-org.elasticsearch.cluster.routing.ShardRouting-java.lang.String-java.lang.String-long-org.elasticsearch.cluster.routing.RoutingChangesObserver-">initializeShard</a></span>&#8203;(<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;unassignedShard,
               java.lang.String&nbsp;nodeId,
               java.lang.String&nbsp;existingAllocationId,
               long&nbsp;expectedSize,
               <a href="../../../../org/elasticsearch/cluster/routing/RoutingChangesObserver.html" title="interface in org.elasticsearch.cluster.routing">RoutingChangesObserver</a>&nbsp;routingChangesObserver)</code></th>
<td class="colLast">
<div class="block">Moves a shard from unassigned to initialize state</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#iterator--">iterator</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#mutableIterator--">mutableIterator</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#node-java.lang.String-">node</a></span>&#8203;(java.lang.String&nbsp;nodeId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#nodeInterleavedShardIterator--">nodeInterleavedShardIterator</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Creates an iterator over shards interleaving between nodes: The iterator returns the first shard from
 the first node, then the first shard of the second node, etc.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>com.carrotsearch.hppc.ObjectIntHashMap&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#nodesPerAttributesCounts-java.lang.String-">nodesPerAttributesCounts</a></span>&#8203;(java.lang.String&nbsp;attributeName)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/common/collect/Tuple.html" title="class in org.elasticsearch.common.collect">Tuple</a>&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>,<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#relocateShard-org.elasticsearch.cluster.routing.ShardRouting-java.lang.String-long-org.elasticsearch.cluster.routing.RoutingChangesObserver-">relocateShard</a></span>&#8203;(<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;startedShard,
             java.lang.String&nbsp;nodeId,
             long&nbsp;expectedShardSize,
             <a href="../../../../org/elasticsearch/cluster/routing/RoutingChangesObserver.html" title="interface in org.elasticsearch.cluster.routing">RoutingChangesObserver</a>&nbsp;changes)</code></th>
<td class="colLast">
<div class="block">Relocate a shard to another node, adding the target initializing
 shard as well as assigning it.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#shards-java.util.function.Predicate-">shards</a></span>&#8203;(java.util.function.Predicate&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;&nbsp;predicate)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#shardsWithState-java.lang.String-org.elasticsearch.cluster.routing.ShardRoutingState...-">shardsWithState</a></span>&#8203;(java.lang.String&nbsp;index,
               <a href="../../../../org/elasticsearch/cluster/routing/ShardRoutingState.html" title="enum in org.elasticsearch.cluster.routing">ShardRoutingState</a>...&nbsp;state)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#shardsWithState-org.elasticsearch.cluster.routing.ShardRoutingState...-">shardsWithState</a></span>&#8203;(<a href="../../../../org/elasticsearch/cluster/routing/ShardRoutingState.html" title="enum in org.elasticsearch.cluster.routing">ShardRoutingState</a>...&nbsp;state)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#size--">size</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Returns the number of routing nodes</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#startShard-org.apache.logging.log4j.Logger-org.elasticsearch.cluster.routing.ShardRouting-org.elasticsearch.cluster.routing.RoutingChangesObserver-">startShard</a></span>&#8203;(org.apache.logging.log4j.Logger&nbsp;logger,
          <a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;initializingShard,
          <a href="../../../../org/elasticsearch/cluster/routing/RoutingChangesObserver.html" title="interface in org.elasticsearch.cluster.routing">RoutingChangesObserver</a>&nbsp;routingChangesObserver)</code></th>
<td class="colLast">
<div class="block">Applies the relevant logic to start an initializing shard.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#toString--">toString</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.UnassignedShards.html" title="class in org.elasticsearch.cluster.routing">RoutingNodes.UnassignedShards</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html#unassigned--">unassigned</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Iterable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.lang.Iterable</h3>
<code>forEach, spliterator</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RoutingNodes-org.elasticsearch.cluster.ClusterState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RoutingNodes</h4>
<pre>public&nbsp;RoutingNodes&#8203;(<a href="../../../../org/elasticsearch/cluster/ClusterState.html" title="class in org.elasticsearch.cluster">ClusterState</a>&nbsp;clusterState)</pre>
</li>
</ul>
<a name="RoutingNodes-org.elasticsearch.cluster.ClusterState-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RoutingNodes</h4>
<pre>public&nbsp;RoutingNodes&#8203;(<a href="../../../../org/elasticsearch/cluster/ClusterState.html" title="class in org.elasticsearch.cluster">ClusterState</a>&nbsp;clusterState,
                    boolean&nbsp;readOnly)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getIncomingRecoveries-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIncomingRecoveries</h4>
<pre>public&nbsp;int&nbsp;getIncomingRecoveries&#8203;(java.lang.String&nbsp;nodeId)</pre>
</li>
</ul>
<a name="getOutgoingRecoveries-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutgoingRecoveries</h4>
<pre>public&nbsp;int&nbsp;getOutgoingRecoveries&#8203;(java.lang.String&nbsp;nodeId)</pre>
</li>
</ul>
<a name="iterator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterator</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&gt;&nbsp;iterator&#8203;()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>iterator</code>&nbsp;in interface&nbsp;<code>java.lang.Iterable&lt;<a href="../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="mutableIterator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mutableIterator</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&gt;&nbsp;mutableIterator&#8203;()</pre>
</li>
</ul>
<a name="unassigned--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unassigned</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.UnassignedShards.html" title="class in org.elasticsearch.cluster.routing">RoutingNodes.UnassignedShards</a>&nbsp;unassigned&#8203;()</pre>
</li>
</ul>
<a name="node-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>node</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&nbsp;node&#8203;(java.lang.String&nbsp;nodeId)</pre>
</li>
</ul>
<a name="nodesPerAttributesCounts-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodesPerAttributesCounts</h4>
<pre>public&nbsp;com.carrotsearch.hppc.ObjectIntHashMap&lt;java.lang.String&gt;&nbsp;nodesPerAttributesCounts&#8203;(java.lang.String&nbsp;attributeName)</pre>
</li>
</ul>
<a name="hasUnassignedPrimaries--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasUnassignedPrimaries</h4>
<pre>public&nbsp;boolean&nbsp;hasUnassignedPrimaries&#8203;()</pre>
<div class="block">Returns <code>true</code> iff this <a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html" title="class in org.elasticsearch.cluster.routing"><code>RoutingNodes</code></a> instance has any unassigned primaries even if the
 primaries are marked as temporarily ignored.</div>
</li>
</ul>
<a name="hasUnassignedShards--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasUnassignedShards</h4>
<pre>public&nbsp;boolean&nbsp;hasUnassignedShards&#8203;()</pre>
<div class="block">Returns <code>true</code> iff this <a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html" title="class in org.elasticsearch.cluster.routing"><code>RoutingNodes</code></a> instance has any unassigned shards even if the
 shards are marked as temporarily ignored.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.UnassignedShards.html#isEmpty--"><code>RoutingNodes.UnassignedShards.isEmpty()</code></a>, 
<a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.UnassignedShards.html#isIgnoredEmpty--"><code>RoutingNodes.UnassignedShards.isIgnoredEmpty()</code></a></dd>
</dl>
</li>
</ul>
<a name="hasInactivePrimaries--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasInactivePrimaries</h4>
<pre>public&nbsp;boolean&nbsp;hasInactivePrimaries&#8203;()</pre>
</li>
</ul>
<a name="hasInactiveShards--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasInactiveShards</h4>
<pre>public&nbsp;boolean&nbsp;hasInactiveShards&#8203;()</pre>
</li>
</ul>
<a name="getRelocatingShardCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRelocatingShardCount</h4>
<pre>public&nbsp;int&nbsp;getRelocatingShardCount&#8203;()</pre>
</li>
</ul>
<a name="assignedShards-org.elasticsearch.index.shard.ShardId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assignedShards</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;&nbsp;assignedShards&#8203;(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</pre>
<div class="block">Returns all shards that are not in the state UNASSIGNED with the same shard
 ID as the given shard.</div>
</li>
</ul>
<a name="getByAllocationId-org.elasticsearch.index.shard.ShardId-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getByAllocationId</h4>
<pre><a href="../../../../org/elasticsearch/common/Nullable.html" title="annotation in org.elasticsearch.common">@Nullable</a>
public&nbsp;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;getByAllocationId&#8203;(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
                                      java.lang.String&nbsp;allocationId)</pre>
</li>
</ul>
<a name="activePrimary-org.elasticsearch.index.shard.ShardId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activePrimary</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;activePrimary&#8203;(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</pre>
<div class="block">Returns the active primary shard for the given shard id or <code>null</code> if
 no primary is found or the primary is not active.</div>
</li>
</ul>
<a name="activeReplicaWithHighestVersion-org.elasticsearch.index.shard.ShardId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activeReplicaWithHighestVersion</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;activeReplicaWithHighestVersion&#8203;(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</pre>
<div class="block">Returns one active replica shard for the given shard id or <code>null</code> if
 no active replica is found.

 Since replicas could possibly be on nodes with a older version of ES than
 the primary is, this will return replicas on the highest version of ES.</div>
</li>
</ul>
<a name="allReplicasActive-org.elasticsearch.index.shard.ShardId-org.elasticsearch.cluster.metadata.MetaData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allReplicasActive</h4>
<pre>public&nbsp;boolean&nbsp;allReplicasActive&#8203;(<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
                                 <a href="../../../../org/elasticsearch/cluster/metadata/MetaData.html" title="class in org.elasticsearch.cluster.metadata">MetaData</a>&nbsp;metaData)</pre>
<div class="block">Returns <code>true</code> iff all replicas are active for the given shard routing. Otherwise <code>false</code></div>
</li>
</ul>
<a name="shards-java.util.function.Predicate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shards</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;&nbsp;shards&#8203;(java.util.function.Predicate&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;&nbsp;predicate)</pre>
</li>
</ul>
<a name="shardsWithState-org.elasticsearch.cluster.routing.ShardRoutingState...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shardsWithState</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;&nbsp;shardsWithState&#8203;(<a href="../../../../org/elasticsearch/cluster/routing/ShardRoutingState.html" title="enum in org.elasticsearch.cluster.routing">ShardRoutingState</a>...&nbsp;state)</pre>
</li>
</ul>
<a name="shardsWithState-java.lang.String-org.elasticsearch.cluster.routing.ShardRoutingState...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shardsWithState</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;&nbsp;shardsWithState&#8203;(java.lang.String&nbsp;index,
                                                    <a href="../../../../org/elasticsearch/cluster/routing/ShardRoutingState.html" title="enum in org.elasticsearch.cluster.routing">ShardRoutingState</a>...&nbsp;state)</pre>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString&#8203;()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="initializeShard-org.elasticsearch.cluster.routing.ShardRouting-java.lang.String-java.lang.String-long-org.elasticsearch.cluster.routing.RoutingChangesObserver-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeShard</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;initializeShard&#8203;(<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;unassignedShard,
                                    java.lang.String&nbsp;nodeId,
                                    <a href="../../../../org/elasticsearch/common/Nullable.html" title="annotation in org.elasticsearch.common">@Nullable</a>
                                    java.lang.String&nbsp;existingAllocationId,
                                    long&nbsp;expectedSize,
                                    <a href="../../../../org/elasticsearch/cluster/routing/RoutingChangesObserver.html" title="interface in org.elasticsearch.cluster.routing">RoutingChangesObserver</a>&nbsp;routingChangesObserver)</pre>
<div class="block">Moves a shard from unassigned to initialize state</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>existingAllocationId</code> - allocation id to use. If null, a fresh allocation id is generated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the initialized shard</dd>
</dl>
</li>
</ul>
<a name="relocateShard-org.elasticsearch.cluster.routing.ShardRouting-java.lang.String-long-org.elasticsearch.cluster.routing.RoutingChangesObserver-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>relocateShard</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/common/collect/Tuple.html" title="class in org.elasticsearch.common.collect">Tuple</a>&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>,<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;&nbsp;relocateShard&#8203;(<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;startedShard,
                                                      java.lang.String&nbsp;nodeId,
                                                      long&nbsp;expectedShardSize,
                                                      <a href="../../../../org/elasticsearch/cluster/routing/RoutingChangesObserver.html" title="interface in org.elasticsearch.cluster.routing">RoutingChangesObserver</a>&nbsp;changes)</pre>
<div class="block">Relocate a shard to another node, adding the target initializing
 shard as well as assigning it.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>pair of source relocating and target initializing shards.</dd>
</dl>
</li>
</ul>
<a name="startShard-org.apache.logging.log4j.Logger-org.elasticsearch.cluster.routing.ShardRouting-org.elasticsearch.cluster.routing.RoutingChangesObserver-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startShard</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;startShard&#8203;(org.apache.logging.log4j.Logger&nbsp;logger,
                               <a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;initializingShard,
                               <a href="../../../../org/elasticsearch/cluster/routing/RoutingChangesObserver.html" title="interface in org.elasticsearch.cluster.routing">RoutingChangesObserver</a>&nbsp;routingChangesObserver)</pre>
<div class="block">Applies the relevant logic to start an initializing shard.

 Moves the initializing shard to started. If the shard is a relocation target, also removes the relocation source.

 If the started shard is a primary relocation target, this also reinitializes currently initializing replicas as their
 recovery source changes</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the started shard</dd>
</dl>
</li>
</ul>
<a name="failShard-org.apache.logging.log4j.Logger-org.elasticsearch.cluster.routing.ShardRouting-org.elasticsearch.cluster.routing.UnassignedInfo-org.elasticsearch.cluster.metadata.IndexMetaData-org.elasticsearch.cluster.routing.RoutingChangesObserver-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failShard</h4>
<pre>public&nbsp;void&nbsp;failShard&#8203;(org.apache.logging.log4j.Logger&nbsp;logger,
                      <a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;failedShard,
                      <a href="../../../../org/elasticsearch/cluster/routing/UnassignedInfo.html" title="class in org.elasticsearch.cluster.routing">UnassignedInfo</a>&nbsp;unassignedInfo,
                      <a href="../../../../org/elasticsearch/cluster/metadata/IndexMetaData.html" title="class in org.elasticsearch.cluster.metadata">IndexMetaData</a>&nbsp;indexMetaData,
                      <a href="../../../../org/elasticsearch/cluster/routing/RoutingChangesObserver.html" title="interface in org.elasticsearch.cluster.routing">RoutingChangesObserver</a>&nbsp;routingChangesObserver)</pre>
<div class="block">Applies the relevant logic to handle a cancelled or failed shard.

 Moves the shard to unassigned or completely removes the shard (if relocation target).

 - If shard is a primary, this also fails initializing replicas.
 - If shard is an active primary, this also promotes an active replica to primary (if such a replica exists).
 - If shard is a relocating primary, this also removes the primary relocation target shard.
 - If shard is a relocating replica, this promotes the replica relocation target to a full initializing replica, removing the
   relocation source information. This is possible as peer recovery is always done from the primary.
 - If shard is a (primary or replica) relocation target, this also clears the relocation information on the source shard.</div>
</li>
</ul>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int&nbsp;size&#8203;()</pre>
<div class="block">Returns the number of routing nodes</div>
</li>
</ul>
<a name="assertShardStats-org.elasticsearch.cluster.routing.RoutingNodes-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertShardStats</h4>
<pre>public static&nbsp;boolean&nbsp;assertShardStats&#8203;(<a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.html" title="class in org.elasticsearch.cluster.routing">RoutingNodes</a>&nbsp;routingNodes)</pre>
<div class="block">Calculates RoutingNodes statistics by iterating over all <a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing"><code>ShardRouting</code></a>s
 in the cluster to ensure the book-keeping is correct.
 For performance reasons, this should only be called from asserts</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this method always returns <code>true</code> or throws an assertion error. If assertion are not enabled
         this method does nothing.</dd>
</dl>
</li>
</ul>
<a name="nodeInterleavedShardIterator--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>nodeInterleavedShardIterator</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&gt;&nbsp;nodeInterleavedShardIterator&#8203;()</pre>
<div class="block">Creates an iterator over shards interleaving between nodes: The iterator returns the first shard from
 the first node, then the first shard of the second node, etc. until one shard from each node has been returned.
 The iterator then resumes on the first node by returning the second shard and continues until all shards from
 all the nodes have been returned.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/elasticsearch/cluster/routing/RoutingNodes.UnassignedShards.html" title="class in org.elasticsearch.cluster.routing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/elasticsearch/cluster/routing/RoutingNodes.html" target="_top">Frames</a></li>
<li><a href="RoutingNodes.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
